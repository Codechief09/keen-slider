Math.sign||(Math.sign=function(n){return(n>0)-(n<0)||+n});export default function(n,t){const e={changed:function(n){},created:function(){},touchControl:!0,classSlide:"keen-slider__slide",classTrack:"keen-slider__track",moveEasing:function(n){return--n*n*n+1},initialSlide:0,loop:!0,moveDuration:500};let o=null,r=null,u=null,l=[],i=null;const c=[];let s=null,a=!1,f=null,d=null,h=0,m=null,g=null,p=null,v=null,w=null,T=0,k=null,y=0,C=null,E=null;function A(n){null!==w&&o.loop&&(w<-B()*X()-B()/2&&(T-=X(),w=-B()+B()/2-(-B()*X()-B()/2-w)),w>-B()/2&&(T+=X(),w=-B()*W()+B()/2+(w- -B()/2))),w-=n,o.loop||(w=S(w,-B()*W(),0)),u.style.transform=`translate3d(${w}px, 0, 0)`}function M(n){return S(n,0,W())}function S(n,t,e){return Math.min(Math.max(n,t),e)}function b(n){a||(a=!0,I(),f=F(n),d=f,h=0,m=w)}function N(n){if(null===f||!a)return;const t=F(n);!function(n){if(void 0===n.targetTouches)return;const t=n.targetTouches[0].clientX,e=n.targetTouches[0].clientY;null===g&&(g=t);null===p&&(p=e);if(Math.abs(p-e)>=Math.abs(g-t))return g=t,p=e,!0}(n)?(n.preventDefault(),h=t-d,s=d?Math.sign(t-d):Math.sign(h-f),A(d-t),d=t):d=t}function x(n){if(!a)return;a=!1,G(function(n){if(n<0&&s<0)return T+1;if(n>0&&s>0)return T-1;return T}(w-m))}function D(){return console.error("keen-slider error: markup not correct"),!1}function L(n,t,e,o={}){if(Array.isArray(n))n.forEach((function(n){L(n,t,e,o)}));else{if(!n||!n.addEventListener)return console.info("event handler could not be assigned");n.addEventListener(t,e,o),c.push([n,t,e])}}function q(){L(r,"dragstart",(function(n){n.preventDefault()})),L(r,"mousedown",b),L(r,"mousemove",N),L(r,"mouseleave",x),L(r,"mouseup",x),L(r,"touchstart",b),L(r,"touchmove",N),L(r,"touchend",x),L(r,"touchcancel",x),L(r,"touchleave",x),L(window,"wheel",V,{passive:!1}),L(window,"scroll",Q)}function _(){c.forEach((function(n,t){n[0].removeEventListener(n[1],n[2]),delete c[t]}))}function B(){return r.offsetWidth}function F(n){return void 0===n.targetTouches?n.pageX:n.targetTouches[0].screenX}function X(){return o.loop?l.length-2:l.length}function H(){return l.length}function W(){return l.length-1}function z(){return document.hidden}function Y(n){P(n,!0);const t=function(n){return-B()*S(n,0,W())}(n);A(w-t)}function $(n){l=u.getElementsByClassName(o.classSlide),o.touchControl&&q(),L(window,"orientationchange",J),L(window,"resize",J),o.loop&&function(){const n=l[0].cloneNode(!0),t=l[W()].cloneNode(!0);n.setAttribute("data-ke-sl-lo",!0),t.setAttribute("data-ke-sl-lo",!0),u.appendChild(n),u.insertBefore(t,u.firstChild)}(),Y(n),O()}function j(n){y||(y=n);const t=n-y;if(t>=o.moveDuration){return y=null,void A(C-E)}const e=(r=t,C*o.moveEasing(r/o.moveDuration)-E);var r;E+=e,A(e),k=window.requestAnimationFrame(j)}function G(n){P(n,!o.loop),I(),C=-(function(n){return-B()*n}(n)-w),E=0,window.requestAnimationFrame(j)}function I(){k&&(window.cancelAnimationFrame(k),k=null),y=null}function J(){O(),setTimeout(O,500),setTimeout(O,2e3)}function K(){o.loop&&function(){const n=u.querySelectorAll("[data-ke-sl-lo]");for(let t=0;t<n.length;t++){const e=n[t];e.parentNode.removeChild(e)}}(),_()}function O(){const n=window.innerWidth;if(n===i)return;const t=B();u.style.width=t*l.length+"px",function(n){for(let t=0;t<l.length;t++)l[t].style.width=n+"px"}(B()),i=n,a||Y(T)}function P(n,t){T=t?M(n):n,o.changed.call(Z,U(T))}function Q(n){a&&(a=!1,G(T)),window.clearTimeout(v),v=setTimeout(()=>{},100)}function R(n){return o.loop?n+1:n}function U(n){return o.loop?(0===n&&(n=H()-2),n===H()-1&&(n=1),(n-=1)%X()):n}function V(n){a&&n.preventDefault()}const Z={destroy(){K()},prev(){z()||G(T-1)},next(){z()||G(T+1)},moveToSlide:function(n,t=!1){const e=M(R(n));return t?Y(e):G(e)},refresh:function(){K(),$(T)},refreshLoopSlides:function(){const n=l[0],t=l[1].cloneNode(!0),e=l[W()],o=l[W()-1].cloneNode(!0);t.setAttribute("data-ke-sl-lo",!0),o.setAttribute("data-ke-sl-lo",!0),u.replaceChild(t,e),u.replaceChild(o,n)},addTouchContols:()=>{q()},removeTouchControls:()=>{_()},get current(){return U(T)},get length(){return X()}};return function(n,t){r=function(n){if("string"==typeof n)return document.querySelector(n);return n}(n),r instanceof HTMLElement==!1?D():(o={...e,...t},u=r.getElementsByClassName(o.classTrack)[0],u instanceof HTMLElement==!1?D():($(R(o.initialSlide)),o.created.call(Z)))}(n,t),Z}
//# sourceMappingURL=keen-slider.esm.js.map
